import {
{% set validatorSet = [] %}
{% for field in model.fields %}
  {% for validator in field.validators %}
    {% set cleanValidator = validator.replace('()', '').replace('(', '').split(',')[0].trim() %}
    {% if cleanValidator not in validatorSet %}
      {% set _ = validatorSet.push(cleanValidator) %}
  {{ cleanValidator }},
    {% endif %}
  {% endfor %}
{% endfor %}
  IsOptional,
} from 'class-validator';
import { Transform } from 'class-transformer';

export class {{ model.createDtoName }} {
{% for field in model.fields %}
  {% if field.required %}
  {% if field.type === 'string' %}
  @Transform(({ value }) => value?.trim()) // Sanitize: trim whitespace
  {% endif %}
  {% for validator in field.validators %}
  @{{ validator }}
  {% endfor %}
  {{ field.name }}: {{ field.tsType }};
  {% else %}
  @IsOptional()
  {% if field.type === 'string' %}
  @Transform(({ value }) => value?.trim()) // Sanitize: trim whitespace
  {% endif %}
  {% for validator in field.validators %}
  @{{ validator }}
  {% endfor %}
  {{ field.name }}?: {{ field.tsType }};
  {% endif %}

{% endfor %}
}
