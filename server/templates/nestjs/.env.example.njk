# Server Configuration
PORT=3000
NODE_ENV=development

# Database Configuration
DATABASE_URL={{ database.connectionString }}

{% if auth and auth.enabled %}
# JWT Authentication Configuration
# ⚠️  CRITICAL: JWT_SECRET is REQUIRED and must be set to a strong random secret!
# - Minimum 32 characters recommended
# - Use a cryptographically secure random string
# - Never commit the actual secret to version control
# - Application will fail to start if JWT_SECRET is not set
# Generate a secure secret with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=CHANGE_THIS_TO_A_STRONG_SECRET_MINIMUM_32_CHARACTERS
JWT_ACCESS_EXPIRY={{ auth.jwt.accessTTL }}
JWT_REFRESH_EXPIRY={{ auth.jwt.refreshTTL }}
{% endif %}

{% if features.caching %}
# Redis Cache Configuration (Optional)
# If not set, will fall back to in-memory caching
# Format: redis://[username][:password]@host:port/database
# Example: redis://localhost:6379 or redis://user:pass@redis-host:6379/0
REDIS_URL=redis://localhost:6379
{% endif %}

{% if features.rateLimit %}
# Rate Limiting Configuration
# THROTTLE_TTL: Time window in milliseconds (default: 60000 = 1 minute)
# THROTTLE_LIMIT: Max requests per time window (default: 10)
THROTTLE_TTL=60000
THROTTLE_LIMIT=10
{% endif %}

{% if oauth and oauth.enabled %}
# OAuth2 Configuration
{% for provider in oauth.providers %}
{% if provider.name == 'google' %}
# Google OAuth2
# Create OAuth2 credentials at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID={{ provider.clientId }}
GOOGLE_CLIENT_SECRET={{ provider.clientSecret }}
GOOGLE_CALLBACK_URL={{ provider.callbackURL }}
{% endif %}
{% if provider.name == 'github' %}
# GitHub OAuth2
# Create OAuth App at: https://github.com/settings/developers
GITHUB_CLIENT_ID={{ provider.clientId }}
GITHUB_CLIENT_SECRET={{ provider.clientSecret }}
GITHUB_CALLBACK_URL={{ provider.callbackURL }}
{% endif %}
{% endfor %}

# Frontend URL for OAuth redirects
FRONTEND_URL=http://localhost:3000
{% endif %}
